<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Computer Organization and Architecture Instruction Sets Addressing Modes and Formats - Jungle&#39;s Blog</title><meta name="description" content="Welcome to Jungle&#39;s blog."><meta property="og:title" content="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats" />
<meta property="og:description" content="Computer Organization and Architecture Instruction Sets: Addressing Modes and Formats Outline Addressing x86 and ARM addressing modes Instruction Formats x86 and ARM instruction formats Addressing What is addressing mode? Elements in the instruction include: opcode, source operand, destination operand, and next instruction address Possible positions of operands Memory Register Immediate I/O Addressing mode specifies how to obtain an operand of an instruction Addressing is relatively simple when the operand is" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-26T16:30:34+08:00" />
<meta property="article:modified_time" content="2023-01-26T16:30:34+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats"/>
<meta name="twitter:description" content="Computer Organization and Architecture Instruction Sets: Addressing Modes and Formats Outline Addressing x86 and ARM addressing modes Instruction Formats x86 and ARM instruction formats Addressing What is addressing mode? Elements in the instruction include: opcode, source operand, destination operand, and next instruction address Possible positions of operands Memory Register Immediate I/O Addressing mode specifies how to obtain an operand of an instruction Addressing is relatively simple when the operand is"/>
<meta name="application-name" content="Jungle&#39;s blog">
<meta name="apple-mobile-web-app-title" content="Jungle&#39;s blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" /><link rel="prev" href="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-characteristics-and-functions/" /><link rel="next" href="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-processor-structure-and-function/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Computer Organization and Architecture Instruction Sets Addressing Modes and Formats",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/Jungle430.github.io\/posts\/computer-organization-and-architecture\/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats\/"
        },"genre": "posts","keywords": "Computer Organization and Architecture","wordcount":  5305 ,
        "url": "https:\/\/Jungle430.github.io\/posts\/computer-organization-and-architecture\/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats\/","datePublished": "2023-01-26T16:30:34+08:00","dateModified": "2023-01-26T16:30:34+08:00","publisher": {
            "@type": "Organization",
            "name": "Jungle"},"author": {
                "@type": "Person",
                "name": "Jungle"
            },"description": ""
    }
    </script></head><body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Jungle&#39;s Blog">Jungle&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/">ğŸ“š æ–‡ç«  </a><a class="menu-item" href="/tags/">ğŸ·ï¸ æ ‡ç­¾ </a><a class="menu-item" href="/categories/">ğŸ—ƒï¸ åˆ†ç±» </a><a class="menu-item" href="/about/">ğŸ‘´ å…³äº </a><a class="menu-item" href="https://github.com/Jungle430" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Jungle&#39;s Blog">Jungle&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">ğŸ“šæ–‡ç« </a><a class="menu-item" href="/tags/" title="">ğŸ·ï¸æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">ğŸ—ƒï¸åˆ†ç±»</a><a class="menu-item" href="/about/" title="">ğŸ‘´å…³äº</a><a class="menu-item" href="https://github.com/Jungle430" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><div class="menu-item"><a href="javascript:void(0);" class="theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="enable"><div class="single-card" ><h2 class="single-title animated flipInX">Computer Organization and Architecture Instruction Sets Addressing Modes and Formats</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="https://github.com/Jungle430" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jungle</a></span>&nbsp;<span class="post-category">å‡ºç‰ˆäº  <a href="/categories/computer-organization-and-architecture/"><i class="far fa-folder fa-fw"></i>Computer Organization and Architecture</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2023-01-26">2023-01-26</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 5305 å­—</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 11 åˆ†é’Ÿ</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>ç›®å½•</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#instruction-sets-addressing-modes-and-formats">Instruction Sets: Addressing Modes and Formats</a>
      <ul>
        <li><a href="#outline">Outline</a></li>
        <li><a href="#addressing">Addressing</a>
          <ul>
            <li><a href="#what-is-addressing-mode">What is addressing mode?</a></li>
            <li><a href="#memory-addressing">Memory addressing</a></li>
            <li><a href="#common-addressing-mode">Common addressing mode</a>
              <ul>
                <li><a href="#immediate-addressing">Immediate addressing</a></li>
                <li><a href="#direct-addressing">Direct addressing</a></li>
                <li><a href="#indirect-addressing">Indirect addressing</a></li>
                <li><a href="#register-addressing">Register addressing</a></li>
                <li><a href="#register-indirect-addressing">Register indirect addressing</a></li>
                <li><a href="#displacement-addressing">Displacement addressing</a>
                  <ul>
                    <li><a href="#relative-addressing">Relative addressing</a></li>
                    <li><a href="#base-register-addressing">Base-register addressing</a></li>
                    <li><a href="#indexed-addressing">Indexed addressing</a></li>
                  </ul>
                </li>
                <li><a href="#combinations">Combinations</a></li>
                <li><a href="#stack-addressing">Stack addressing</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#x86-and-arm-addressing-modes"><code>x86</code> and <code>ARM</code> addressing modes</a>
          <ul>
            <li><a href="#swapping">Swapping</a></li>
            <li><a href="#partitioning">Partitioning</a>
              <ul>
                <li><a href="#variable-sized-partitions">Variable sized partitions</a></li>
              </ul>
            </li>
            <li><a href="#relocation">Relocation</a></li>
            <li><a href="#paging">Paging</a></li>
            <li><a href="#real-and-virtual-memory">Real and virtual memory</a></li>
            <li><a href="#segmentation">Segmentation</a></li>
            <li><a href="#x86-addressing-modes"><code>x86</code> addressing modes</a></li>
            <li><a href="#arm-addressing-modes"><code>ARM</code> addressing modes</a>
              <ul>
                <li><a href="#offset">Offset</a></li>
                <li><a href="#pre-index">Pre-index</a></li>
                <li><a href="#post-index">Post-index</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#instruction-formats">Instruction Formats</a>
          <ul>
            <li><a href="#key-of-instruction-formats">Key of instruction formats</a></li>
            <li><a href="#allocation-of-bits">Allocation of bits</a></li>
          </ul>
        </li>
        <li><a href="#x86-and-arm-instruction-formats"><code>x86</code> and <code>ARM</code> instruction formats</a>
          <ul>
            <li><a href="#x86-instruction-format"><code>x86</code> instruction format</a></li>
            <li><a href="#arm-instruction-formats"><code>ARM</code> instruction formats</a>
              <ul>
                <li><a href="#condition-code">Condition code</a></li>
              </ul>
            </li>
            <li><a href="#data-processing">Data processing</a></li>
            <li><a href="#loadstore">Load/Store</a></li>
            <li><a href="#branch">Branch</a></li>
            <li><a href="#arm-immediate-constants">ARM immediate constants</a></li>
            <li><a href="#thumb-instruction-set">Thumb instruction set</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h1 id="computer-organization-and-architecture">Computer Organization and Architecture</h1>
<h2 id="instruction-sets-addressing-modes-and-formats">Instruction Sets: Addressing Modes and Formats</h2>
<h3 id="outline">Outline</h3>
<ul>
<li>
<p>Addressing</p>
</li>
<li>
<p><code>x86</code> and <code>ARM</code> addressing modes</p>
</li>
<li>
<p>Instruction Formats</p>
</li>
<li>
<p><code>x86</code> and <code>ARM</code> instruction formats</p>
</li>
</ul>
<h3 id="addressing">Addressing</h3>
<h4 id="what-is-addressing-mode">What is addressing mode?</h4>
<ul>
<li>
<p><strong>Elements in the instruction include: opcode, source operand, destination operand, and next instruction address</strong></p>
</li>
<li>
<p>Possible positions of operands</p>
<ul>
<li>
<p>Memory</p>
</li>
<li>
<p>Register</p>
</li>
<li>
<p>Immediate</p>
</li>
<li>
<p>I/O</p>
</li>
</ul>
</li>
<li>
<p><strong>Addressing mode specifies how to obtain an operand of an instruction</strong></p>
</li>
<li>
<p>Addressing is relatively simple when the operand is in a register or immediate</p>
</li>
<li>
<p>If the operand is in memory</p>
<ul>
<li>
<p>The address field of an operand in an instruction cannot be too long</p>
</li>
<li>
<p>Want to access a large memory space</p>
</li>
</ul>
</li>
<li>
<p>Memory addressing adopts multiple addressing modes</p>
<ul>
<li><strong>Balance</strong> the addressable address range, addressing flexibility, addressing complexity and the number of storage units occupied</li>
</ul>
</li>
</ul>
<h4 id="memory-addressing">Memory addressing</h4>
<ul>
<li>
<p>Absolute</p>
</li>
<li>
<p>Displacement</p>
</li>
<li>
<p>Indexed</p>
</li>
<li>
<p>register indirect</p>
</li>
<li>
<p>memory indirect</p>
</li>
<li>
<p>Autoincrement</p>
</li>
<li>
<p>Autodecrement</p>
</li>
</ul>
<hr>
<p><strong>Advantage</strong></p>
<ul>
<li>
<p>Expanding addressable address space</p>
</li>
<li>
<p>Improved addressing flexibility</p>
</li>
<li>
<p>Provide better program architecture to help programmers design more flexible programs</p>
<ul>
<li>For example, array, pointer based access, etc</li>
</ul>
</li>
</ul>
<h4 id="common-addressing-mode">Common addressing mode</h4>
<ul>
<li>
<p>Immediate</p>
</li>
<li>
<p>Direct</p>
</li>
<li>
<p>Indirect</p>
</li>
<li>
<p>Register</p>
</li>
<li>
<p>Register Indirect</p>
</li>
<li>
<p>Displacement (Indexed)</p>
</li>
<li>
<p>Stack</p>
</li>
</ul>
<h5 id="immediate-addressing">Immediate addressing</h5>
<ul>
<li>
<p>Operand is part of instruction</p>
<ul>
<li><strong>Operand = address field</strong></li>
</ul>
</li>
<li>
<p>e.g.</p>
<ul>
<li>
<p>ADD 5</p>
</li>
<li>
<p>Add 5 to contents of accumulator</p>
</li>
<li>
<p>5 is operand</p>
</li>
</ul>
</li>
<li>
<p><strong>No memory reference to fetch data</strong></p>
<ul>
<li>
<p><strong>Fast</strong></p>
</li>
<li>
<p><strong>Limited range: length of the address field in the instruction is limited</strong></p>
</li>
<li>
<p><strong>Inflexible</strong></p>
</li>
</ul>
</li>
</ul>
<div class="mermaid" id="id-1"></div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">MOV BL,10
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><strong>æŒ‡ä»¤ä¸­åŒ…å«äº†æ“ä½œç å’Œç«‹å³æ•°</strong></p>
</li>
<li>
<p><strong>å¤æ‚ä¸€ç‚¹çš„æŒ‡ä»¤ä¸­ï¼Œæ“ä½œæ•°åŒ…æ‹¬ç«‹å³æ•°ï¼Œä»¥åŠå…¶ä»–å¯»å€æ–¹å¼</strong></p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">MOV BL,10
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><strong>è¿™ä¸ªæŒ‡ä»¤æŠŠ10è¿™ä¸ªç«‹å³æ•°é€åˆ°BLå¯„å­˜å™¨ä¸­</strong></p>
</li>
<li>
<p><strong>ç«‹å³æ•°å¯»å€åœ¨å¾ˆå¤šæŒ‡ä»¤ä¸­éƒ½ä¼šç”¨åˆ°ï¼Œä½†æ˜¯å—åˆ°çš„é™åˆ¶æ¯”è¾ƒå¤§</strong></p>
</li>
</ul>
<h5 id="direct-addressing">Direct addressing</h5>
<ul>
<li>
<p><strong>Address field contains address of operand</strong></p>
</li>
<li>
<p>Effective address (EA) = address field (A)</p>
<ul>
<li>
<p><strong>Single memory reference to access data</strong></p>
</li>
<li>
<p><strong>No additional calculations to work out effective address</strong></p>
</li>
<li>
<p><strong>Limited address space</strong></p>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ADD A
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Add contents of cell A to accumulator</p>
</li>
<li>
<p>Look in memory at address A for operand</p>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-1.png" title="/img/Computer Organization and Architecture/chapter11-1.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-1.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-1.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-1.png, /img/Computer%20Organization%20and%20Architecture/chapter11-1.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-1.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-1.png" />
    </a>
<ul>
<li>
<p>æŒ‡ä»¤ä¸­ç»™å‡ºäº†æ“ä½œæ•°åœ¨ä¸»å­˜å‚¨å™¨ä¸­çš„åœ°å€</p>
</li>
<li>
<p>é€šè¿‡ä¸€æ¬¡å­˜å‚¨å™¨è®¿é—®ï¼Œå°±å¯ä»¥å¾—åˆ°æ“ä½œæ•°</p>
</li>
<li>
<p>æ“ä½œæ•°çš„åœ°å€ç›´æ¥åœ¨æŒ‡ä»¤ä¸­ã€‚æŒ‡ä»¤çš„é•¿åº¦æœ‰é™ï¼Œèƒ½ç•™ç»™ç›´æ¥å¯»å€çš„åœ°å€åŸŸçš„é•¿åº¦æœ‰é™ï¼Œå¯¼è‡´å¯»å€ç©ºé—´æœ‰é™</p>
</li>
</ul>
<h5 id="indirect-addressing">Indirect addressing</h5>
<ul>
<li>
<p>Memory cell pointed to by address field contains the address of (pointer to) the operand</p>
</li>
<li>
<p>EA = (A)</p>
<ul>
<li>
<p><strong>Access the storage unit with address A to obtain the actual address of the operand</strong></p>
</li>
<li>
<p><strong>Access the memory according to this address to get the operand</strong></p>
</li>
<li>
<p>Memory needs to be accessed twice</p>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ADD (A)
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><strong>Add contents of cell pointed to by contents of A to accumulator</strong></p>
</li>
<li>
<p>Large address space</p>
<ul>
<li>$2^n\ where\ \rightarrow n=word\ length\newline$</li>
</ul>
</li>
<li>
<p><strong>May be nested, multilevel, cascaded</strong></p>
<ul>
<li>
<p>e.g. EA=((A))</p>
</li>
<li>
<p>Effective address is the value of the storage unit pointed to by (A)</p>
</li>
</ul>
</li>
<li>
<p><strong>Multiple memory accesses to find operand</strong></p>
</li>
<li>
<p><strong>Hence slower</strong></p>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-2.png" title="/img/Computer Organization and Architecture/chapter11-2.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-2.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-2.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-2.png, /img/Computer%20Organization%20and%20Architecture/chapter11-2.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-2.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-2.png" />
    </a>
<ul>
<li>
<p>æŒ‡ä»¤ä¸­åŒ…å«äº†ä¸€ä¸ªåœ°å€A</p>
</li>
<li>
<p>æ ¹æ®Aå»å­˜å‚¨å™¨ä¸­è®¿é—®ï¼Œå¾—åˆ°æ“ä½œæ•°çš„åœ°å€</p>
</li>
<li>
<p>æ ¹æ®è¿™ä¸ªåœ°å€å»è·å¾—æ“ä½œæ•°</p>
</li>
<li>
<p>è¦2æ¬¡è®¿é—®å­˜å‚¨å™¨ï¼Œè®¿é—®é€Ÿåº¦ç›¸å¯¹æ¯”è¾ƒæ…¢</p>
</li>
</ul>
<h5 id="register-addressing">Register addressing</h5>
<ul>
<li>
<p>Operand is held in register named in address field</p>
</li>
<li>
<p>EA = R</p>
</li>
<li>
<p><strong>Limited number of registers</strong></p>
<ul>
<li>Register address field is 3-5 bits, and the number of accessible registers ranges from 8 to 32</li>
</ul>
</li>
<li>
<p><strong>Very small address field needed</strong></p>
<ul>
<li><strong>Shorter instructions</strong></li>
<li><strong>Faster instruction fetch</strong></li>
</ul>
</li>
<li>
<p><strong>Similar to direct addressing</strong></p>
<ul>
<li>
<p><strong>No memory access</strong></p>
</li>
<li>
<p><strong>Very fast execution</strong></p>
</li>
</ul>
</li>
<li>
<p>Very limited address space</p>
</li>
<li>
<p>Multiple registers helps performance</p>
<ul>
<li>
<p>Requires good assembly programming or compiler writing</p>
</li>
<li>
<p>Multiple used operands are placed in registers</p>
</li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-3.png" title="/img/Computer Organization and Architecture/chapter11-3.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-3.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-3.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-3.png, /img/Computer%20Organization%20and%20Architecture/chapter11-3.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-3.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-3.png" />
    </a>
<ul>
<li>
<p>å¯„å­˜å™¨å¯»å€å’Œå­˜å‚¨å™¨ç›´æ¥å¯»å€éå¸¸ç±»ä¼¼</p>
</li>
<li>
<p>è®¿é—®çš„æ˜¯CPUå†…éƒ¨çš„å¯„å­˜å™¨</p>
</li>
<li>
<p><strong>è®¿é—®å¯„å­˜å™¨çš„é€Ÿåº¦æ¯”è®¿é—®å­˜å‚¨å™¨å¿«å¾ˆå¤šï¼Œå¹¶ä¸”å¯„å­˜å™¨çš„æ•°é‡å°‘ï¼Œå……åˆ†åˆ©ç”¨å¥½å¯„å­˜å™¨å¯»å€ï¼Œå¯ä»¥æé«˜å¤„ç†é€Ÿåº¦</strong></p>
</li>
</ul>
<h5 id="register-indirect-addressing">Register indirect addressing</h5>
<ul>
<li>
<p>Similar to indirect addressing</p>
</li>
<li>
<p>EA = (R)</p>
<ul>
<li>Operand is in memory cell pointed to by contents of register R</li>
</ul>
</li>
<li>
<p><strong>Large address space</strong>($2^n$)</p>
<ul>
<li><strong>n is the word length of register</strong></li>
</ul>
</li>
<li>
<p><strong>Much faster than indirect addressing</strong></p>
<ul>
<li><strong>One memory access + one register access</strong></li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-4.png" title="/img/Computer Organization and Architecture/chapter11-4.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-4.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-4.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-4.png, /img/Computer%20Organization%20and%20Architecture/chapter11-4.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-4.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-4.png" />
    </a>
<ul>
<li>
<p>æŒ‡ä»¤ä¸­çš„åœ°å€åŸŸä¸­æ˜¯å¯„å­˜å™¨Rï¼Œè€Œå¯„å­˜å™¨Rä¸­çš„å€¼æ˜¯æ“ä½œæ•°åœ¨ä¸»å­˜ä¸­çš„åœ°å€</p>
</li>
<li>
<p>ç»è¿‡ä¸¤æ¬¡è®¿é—®ï¼Œæ‰èƒ½å¾—åˆ°æ“ä½œæ•°ã€‚ç¬¬ä¸€æ¬¡æ˜¯å¯„å­˜å™¨è®¿é—®ï¼Œç¬¬äºŒæ¬¡æ˜¯å­˜å‚¨å™¨è®¿é—®</p>
</li>
<li>
<p>ç”±äºå¯„å­˜å™¨çš„è®¿é—®æ—¶é—´å¾ˆçŸ­ï¼Œæ‰€ä»¥å¯„å­˜å™¨é—´æ¥å¯»å€çš„æ—¶é—´ï¼ŒåŸºæœ¬ä¸Šå’Œè®¿é—®å­˜å‚¨å™¨çš„æ—¶é—´ç›¸å½“</p>
</li>
</ul>
<h5 id="displacement-addressing">Displacement addressing</h5>
<ul>
<li>
<p><strong>Add a displacement to the base address to obtain the actual address of the operand</strong></p>
<ul>
<li>EA = A + (R)</li>
</ul>
</li>
<li>
<p><strong>Address field hold two values</strong></p>
<ul>
<li><strong>A = base value</strong></li>
<li><strong>R = register that holds displacement</strong></li>
<li><strong>or vice versa</strong></li>
</ul>
</li>
<li>
<p>The operand address is the relative address of the base address, which is often used in virtual addresses</p>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-5.png" title="/img/Computer Organization and Architecture/chapter11-5.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-5.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-5.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-5.png, /img/Computer%20Organization%20and%20Architecture/chapter11-5.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-5.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-5.png" />
    </a>
<ul>
<li>
<p>æŒ‡ä»¤ä¸­åŒ…å«äº†2ä¸ªåœ°å€å­—æ®µï¼Œå¯„å­˜å™¨Rå’ŒåŸºå€A</p>
</li>
<li>
<p>å¯»å€æ—¶ï¼Œæ ¹æ®Rçš„å€¼ï¼Œå»å¯„å­˜å™¨ä¸­è¯»å–æ“ä½œæ•°çš„åœ°å€åç§»é‡ï¼ŒåŠ ä¸ŠåŸºå€Aï¼Œå¾—åˆ°æ“ä½œæ•°åœ¨ä¸»å­˜ä¸­çš„åœ°å€ï¼Œè®¿é—®å­˜å‚¨å™¨ï¼Œå¾—åˆ°æ“ä½œæ•°</p>
</li>
<li>
<p>åç§»å¯»å€æœ‰ä¸‰ç§æ–¹å¼ï¼šç¬¬ä¸€ç§æ˜¯ç›¸å¯¹å¯»å€ï¼Œç¬¬äºŒç§æ˜¯åŸºå€å¯„å­˜å™¨å¯»å€ï¼Œç¬¬ä¸‰ç§æ˜¯å˜å€å¯»å€</p>
</li>
</ul>
<h6 id="relative-addressing">Relative addressing</h6>
<ul>
<li>
<p>A version of displacement addressing</p>
<ul>
<li>
<p>R = Program counter, PC</p>
</li>
<li>
<p><strong>EA = A + (PC)</strong></p>
</li>
<li>
<p>obtain the operand from the memory, and the address of the operand comes from PC and A</p>
</li>
</ul>
</li>
<li>
<p>Locality of reference &amp; cache usage</p>
<ul>
<li>
<p>Program counter is instruction address</p>
</li>
<li>
<p>Based on the principle of locality, the probability of data in cache is very high, and data access is fast</p>
</li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-6.png" title="/img/Computer Organization and Architecture/chapter11-6.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-6.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-6.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-6.png, /img/Computer%20Organization%20and%20Architecture/chapter11-6.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-6.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-6.png" />
    </a>
<ul>
<li>
<p>ç›¸å¯¹å¯»å€ä¸­ï¼Œ<strong>éšå«ä½¿ç”¨äº†PCä½œä¸ºåŸºç¡€åœ°å€ï¼Œç”¨æŒ‡ä»¤ä¸­åœ°å€åŸŸä¸­çš„Aä½œä¸ºåç§»é‡</strong></p>
</li>
<li>
<p>é€šè¿‡ä¸¤ä¸ªçš„è®¡ç®—ï¼Œå¾—åˆ°æ“ä½œæ•°åœ¨ä¸»å­˜ä¸­çš„åœ°å€</p>
</li>
<li>
<p>æ ¹æ®è¿™ä¸ªåœ°å€ï¼Œè®¿é—®å­˜å‚¨å™¨ï¼Œå¾—åˆ°å®é™…çš„æ“ä½œæ•°</p>
</li>
</ul>
<h6 id="base-register-addressing">Base-register addressing</h6>
<ul>
<li>
<p>Use a register R as the base register</p>
<ul>
<li>
<p>R holds pointer to base address</p>
</li>
<li>
<p>R may be explicit or implicit</p>
</li>
<li>
<p>e.g. segment registers in 80x86 is implicit</p>
</li>
</ul>
</li>
<li>
<p>The address field in the instruction gives displacement A</p>
</li>
<li>
<p>The operation of R and A can obtain the actual address of the operand</p>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-7.png" title="/img/Computer Organization and Architecture/chapter11-7.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-7.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-7.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-7.png, /img/Computer%20Organization%20and%20Architecture/chapter11-7.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-7.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-7.png" />
    </a>
<ul>
<li>
<p>åŸºå€å¯„å­˜å™¨BRä¸­åŒ…å«äº†å¯»å€çš„åŸºå€ï¼Œè€ŒæŒ‡ä»¤ä¸­çš„åœ°å€å­—æ®µä¸­åŒ…å«äº†åç§»é‡</p>
</li>
<li>
<p>è¿™ä¸¤ä¸ªç›¸åŠ ï¼Œå¾—åˆ°æ“ä½œæ•°åœ°å€ï¼Œè®¿é—®å­˜å‚¨å™¨ï¼Œè·å–æ“ä½œæ•°</p>
</li>
<li>
<p>åŸºå€å¯„å­˜å™¨å¯»å€çš„å¯»å€è¿‡ç¨‹åŒ…æ‹¬ï¼š<strong>1. è®¿é—®1æ¬¡å¯„å­˜å™¨ï¼›2. è¿›è¡Œä¸€æ¬¡åŠ æ³•è¿ç®—ï¼›3. è®¿é—®ä¸€æ¬¡ä¸»å­˜</strong></p>
</li>
</ul>
<h6 id="indexed-addressing">Indexed addressing</h6>
<ul>
<li>
<p>One type of displacement addressing mode</p>
</li>
<li>
<p><strong>The base address is in the address field, and the offset is in the register</strong></p>
<ul>
<li>
<p>A = base</p>
</li>
<li>
<p>R = displacement</p>
</li>
<li>
<p>EA = A + R</p>
</li>
</ul>
</li>
<li>
<p><strong>Good for accessing arrays</strong></p>
<ul>
<li>EA = A + R</li>
<li>R++</li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-8.png" title="/img/Computer Organization and Architecture/chapter11-8.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-8.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-8.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-8.png, /img/Computer%20Organization%20and%20Architecture/chapter11-8.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-8.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-8.png" />
    </a>
<ul>
<li>
<p>å˜å€å¯»å€ä¸­ï¼Œ<strong>å¯„å­˜å™¨ä¸­çš„å€¼æ˜¯åç§»é‡ï¼ŒåŸºå€ä¸ºæŒ‡ä»¤ä¸­ç»™å‡ºçš„åœ°å€</strong></p>
</li>
<li>
<p>å¯»å€æ—¶ï¼Œå°†åŸºå€å’Œå¯„å­˜å™¨ä¸­çš„åç§»é‡è¿›è¡Œç›¸åŠ ï¼Œå¾—åˆ°å­˜å‚¨å™¨åœ°å€</p>
</li>
<li>
<p>æ ¹æ®è¿™ä¸ªåœ°å€è®¿é—®å†…å­˜ï¼Œå¾—åˆ°æ“ä½œæ•°</p>
</li>
</ul>
<h5 id="combinations">Combinations</h5>
<ul>
<li>
<p>Post-index: Indexing after indirect addressing</p>
<ul>
<li>
<p>First get address from memory, then indexing address</p>
</li>
<li>
<p>EA = (A) + (R)</p>
</li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-9.png" title="/img/Computer Organization and Architecture/chapter11-9.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-9.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-9.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-9.png, /img/Computer%20Organization%20and%20Architecture/chapter11-9.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-9.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-9.png" />
    </a>
<ul>
<li>æŒ‡ä»¤ä¸­åœ°å€å­—æ®µçš„å†…å®¹ç”¨æ¥è®¿é—®å­˜å‚¨å™¨ï¼Œè·å¾—æ“ä½œæ•°çš„ç›´æ¥åœ°å€</li>
<li>ç›´æ¥åœ°å€è¢«å¯„å­˜å™¨å€¼å˜å€ï¼Œå¾—åˆ°æ“ä½œæ•°çš„å®é™…åœ°å€ï¼Œç„¶åè®¿é—®è¿™ä¸ªåœ°å€ï¼Œå¾—åˆ°æ“ä½œæ•°</li>
</ul>
<hr>
<ul>
<li>
<p>Pre-index: Indirect addressing after indexing</p>
<ul>
<li>
<p>Index first, read the memory after getting the address</p>
</li>
<li>
<p>EA = (A + (R))</p>
</li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-10.png" title="/img/Computer Organization and Architecture/chapter11-10.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-10.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-10.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-10.png, /img/Computer%20Organization%20and%20Architecture/chapter11-10.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-10.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-10.png" />
    </a>
<ul>
<li>
<p>æŒ‡ä»¤ä¸­åœ°å€å­—æ®µå’Œå¯„å­˜å™¨å…ˆè¿›è¡Œå˜å€ï¼Œå¾—åˆ°æ“ä½œæ•°çš„é—´æ¥åœ°å€</p>
</li>
<li>
<p>è®¿é—®å­˜å‚¨å™¨ï¼Œå¾—åˆ°æ“ä½œæ•°çš„å®é™…åœ°å€</p>
</li>
<li>
<p>å†ä¸€æ¬¡è®¿é—®å­˜å‚¨å™¨ï¼Œå¾—åˆ°æ“ä½œæ•°</p>
</li>
</ul>
<h5 id="stack-addressing">Stack addressing</h5>
<ul>
<li>
<p><strong>Operand is implicitly on top of stack</strong></p>
</li>
<li>
<p>e.g. ADD</p>
<ul>
<li>
<p><strong>Pop top two number from stack</strong></p>
</li>
<li>
<p><strong>Add the two numbers</strong></p>
</li>
<li>
<p><strong>Push the sum</strong></p>
</li>
</ul>
</li>
</ul>
<h3 id="x86-and-arm-addressing-modes"><code>x86</code> and <code>ARM</code> addressing modes</h3>
<h4 id="swapping">Swapping</h4>
<ul>
<li>
<p>Problem: I/O is so slow compared with CPU that even in multi-programming system, CPU can be idle most of the time</p>
</li>
<li>
<p>Solutions</p>
<ul>
<li>
<p>Increase main memory</p>
<ul>
<li>Expensive</li>
<li>Leads to larger programs</li>
</ul>
</li>
<li>
<p><strong>Swapping</strong></p>
</li>
</ul>
</li>
</ul>
<h4 id="partitioning">Partitioning</h4>
<ul>
<li>
<p><strong>Splitting memory into sections to allocate to processes (including Operating System)</strong></p>
</li>
<li>
<p>Fixed-sized partitions</p>
<ul>
<li>
<p>May not be equal size</p>
</li>
<li>
<p><strong>Process is fitted into smallest hole that will take it (best fit)</strong></p>
</li>
<li>
<p><strong>Some wasted memory</strong></p>
</li>
<li>
<p>Leads to variable sized partitions</p>
</li>
</ul>
</li>
</ul>
<h5 id="variable-sized-partitions">Variable sized partitions</h5>
<ul>
<li>
<p>Allocate exactly the required memory to a process</p>
<ul>
<li>
<p>This leads to a hole at the end of memory, too small to use</p>
</li>
<li>
<p>Only one small hole - less waste</p>
</li>
</ul>
</li>
<li>
<p>When all processes are blocked, swap out a process and bring in another</p>
<ul>
<li>New process may be smaller than swapped out process</li>
<li>Another hole</li>
</ul>
</li>
<li>
<p><strong>Eventually have lots of holesï¼Œcalled fragmentation</strong></p>
</li>
<li>
<p>Solutions</p>
<ul>
<li>
<p><strong>Coalesce - Join adjacent holes into one large hole</strong></p>
</li>
<li>
<p><strong>Compaction - From time to time go through memory and move all hole into one free block</strong></p>
</li>
</ul>
</li>
</ul>
<h4 id="relocation">Relocation</h4>
<ul>
<li>
<p>Instructions contain addresses</p>
<ul>
<li>
<p>Locations of data</p>
</li>
<li>
<p>Addresses for instructions (branching)</p>
</li>
</ul>
</li>
<li>
<p>No guarantee that process will load into the same place in memory</p>
<ul>
<li>
<p>Logical address - relative to beginning of program</p>
</li>
<li>
<p>Physical address - actual location in memory (this time)</p>
</li>
<li>
<p>Automatic conversion using base address</p>
</li>
</ul>
</li>
</ul>
<h4 id="paging">Paging</h4>
<ul>
<li>
<p>Use paging to solve the problem of memory waste</p>
<ul>
<li>
<p>Split memory into equal sized, small chunks-page frames</p>
</li>
<li>
<p>Split programs (processes) into equal sized small chunksâ€“pages</p>
</li>
<li>
<p>Allocate the required number page frames to a process</p>
</li>
</ul>
</li>
<li>
<p><strong>Operating System is responsible for the management of page tables</strong></p>
<ul>
<li>
<p>A process does not require contiguous page frames</p>
</li>
<li>
<p><strong>Each process uses a page table to record which page frames in memory it uses</strong></p>
</li>
</ul>
</li>
<li>
<p>Each process has its own page table</p>
</li>
<li>
<p><strong>Each page table entry contains the frame number of the corresponding page in main memory</strong></p>
</li>
<li>
<p>Two extra bits are needed to indicate</p>
<ul>
<li>
<p><strong>whether the page is in main memory or not</strong></p>
</li>
<li>
<p><strong>Whether the contents of the page has been altered since it was last loaded</strong></p>
</li>
</ul>
</li>
</ul>
<h4 id="real-and-virtual-memory">Real and virtual memory</h4>
<ul>
<li>
<p><strong>Real memory</strong></p>
<ul>
<li><strong>Main memory, the actual <code>RAM</code></strong></li>
</ul>
</li>
<li>
<p><strong>Virtual memory</strong></p>
<ul>
<li>
<p><strong>Memory on disk</strong></p>
</li>
<li>
<p><strong>Allows for effective multiprogramming and relieves the user of tight constraints of main memory</strong></p>
</li>
</ul>
</li>
<li>
<p><strong>Advantage of virtual memory</strong></p>
<ul>
<li>
<p><strong>You do not need to load all processes into memory</strong></p>
</li>
<li>
<p><strong>Running multiple processes simultaneously</strong></p>
</li>
<li>
<p><strong>Improved operational efficiency</strong></p>
</li>
</ul>
</li>
</ul>
<h4 id="segmentation">Segmentation</h4>
<ul>
<li>
<p><strong>Paging is not (usually) visible to the programmer</strong></p>
</li>
<li>
<p><strong>Segmentation is visible to the programmer</strong></p>
</li>
<li>
<p>Usually different segments allocated to program and data</p>
</li>
<li>
<p>May be a number of program and data segments</p>
</li>
</ul>
<h4 id="x86-addressing-modes"><code>x86</code> addressing modes</h4>
<ul>
<li>
<p><strong><code>x86</code> adopts a memory management mechanism combining segments and pages</strong></p>
</li>
<li>
<p><strong>Virtual or effective address is offset into segment</strong></p>
<ul>
<li>
<p>Starting address plus offset gives linear address</p>
</li>
<li>
<p>This goes through page translation if paging enabled</p>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>
<p>9 addressing modes available</p>
<ul>
<li>
<p>Immediate</p>
</li>
<li>
<p>Register operand</p>
</li>
<li>
<p>Displacement</p>
</li>
<li>
<p>Base</p>
</li>
<li>
<p>Base with displacement</p>
</li>
<li>
<p>Scaled index with displacement</p>
</li>
<li>
<p>Base with index and displacement</p>
</li>
<li>
<p>Base scaled index with displacement</p>
</li>
<li>
<p>Relative</p>
</li>
</ul>
</li>
</ul>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-11.png" title="/img/Computer Organization and Architecture/chapter11-11.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-11.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-11.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-11.png, /img/Computer%20Organization%20and%20Architecture/chapter11-11.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-11.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-11.png" />
    </a>
<ul>
<li>
<p>æŒ‡ä»¤ä¸­ç»™çš„é€»è¾‘åœ°å€åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ®µå’Œæ®µå†…åç§»é‡</p>
</li>
<li>
<p>æŸ¥æ‰¾æ®µè¡¨ï¼Œå¯ä»¥å¾—åˆ°æ®µèµ·å§‹åœ°å€ï¼ŒåŠ ä¸Šæ®µå†…åç§»é‡ï¼Œå¾—åˆ°æ“ä½œæ•°çš„çº¿æ€§åœ°å€</p>
</li>
<li>
<p>çº¿æ€§åœ°å€é‡‡ç”¨äº†åˆ†é¡µçš„æ–¹å¼ï¼Œæ‰€ä»¥è¿˜éœ€è¦é€šè¿‡é¡µè½¬æ¢æœºåˆ¶ï¼Œå¾—åˆ°ç‰©ç†åœ°å€ï¼Œæœ€åé€šè¿‡ç‰©ç†åœ°å€æŸ¥è¯¢å¾—åˆ°è¿™ä¸ªæ“ä½œæ•°ã€‚é¡µè¡¨é‡‡ç”¨ä¸¤çº§é¡µè¡¨çš„å½¢å¼</p>
</li>
<li>
<p>6ä¸ªæ®µå¯„å­˜å™¨ï¼Œæ¯ä¸ªè¿›ç¨‹ä½¿ç”¨å“ªä¸ªæ®µå¯„å­˜å™¨ç”±æŒ‡ä»¤å’Œæ‰§è¡Œçš„ä¸Šä¸‹æ–‡æ¥ç¡®å®šã€‚æ¯ä¸ªæ®µå¯„å­˜å™¨å¯¹åº”ä¸€ä¸ªæ®µæè¿°ç¬¦è¡¨ï¼Œè®°å½•äº†æ®µçš„è®¿é—®æƒé™ï¼Œæ®µçš„èµ·å§‹åœ°å€å’Œæ®µçš„é•¿åº¦</p>
</li>
<li>
<p>åŸºå€å¯„å­˜å™¨å’Œå˜å€å¯„å­˜å™¨ï¼Œç”¨äºæ„é€ å¤æ‚çš„å¯»å€æ–¹å¼</p>
</li>
<li>
<p>åŸºå€ã€å˜å€ä»¥åŠæŒ‡ä»¤ä¸­çš„åç§»é‡è®¡ç®—å¾—åˆ°æœ‰æ•ˆåœ°å€ï¼ŒåŠ ä¸Šæ®µåœ°å€å¾—åˆ°æ“ä½œæ•°çš„çº¿æ€§åœ°å€ï¼Œç„¶åå†æ ¹æ®åˆ†é¡µçš„è§„åˆ™ï¼Œå¾—åˆ°ç‰©ç†åœ°å€</p>
</li>
</ul>
<hr>
<p><strong>Terms</strong></p>
<ul>
<li>
<p>Effective address</p>
</li>
<li>
<p>Physical address</p>
</li>
<li>
<p>LA: linear address</p>
</li>
<li>
<p>SR : segment register</p>
</li>
<li>
<p>B: base register</p>
</li>
<li>
<p>I : index register</p>
</li>
<li>
<p>S: scale factor</p>
</li>
</ul>
<hr>
<p><strong><code>x86</code> addressing modes</strong></p>
<ul>
<li>
<p>8ä¸ª32ä½é€šç”¨å¯„å­˜å™¨ï¼Œåˆ†åˆ«æ˜¯EAXã€EBXã€ECXã€EDXã€ESIã€EDIã€ESPã€EBP</p>
</li>
<li>
<p>8ä¸ª16ä½é€šç”¨å¯„å­˜å™¨ï¼ŒAXã€BXã€CXã€DXã€SIã€DIã€SPã€BP</p>
</li>
<li>
<p>8ä¸ª8ä½é€šç”¨å¯„å­˜å™¨ï¼ŒAHã€BHã€CHã€DHã€ALã€BLã€CLã€DL</p>
</li>
<li>
<p>é€šè¿‡æ®µå¯„å­˜å™¨æ¥ç¡®å®šæ®µçš„èµ·å§‹åœ°å€ï¼Œç„¶åè®¡ç®—å¾—åˆ°çº¿æ€§åœ°å€</p>
</li>
<li>
<p>æ¯”ä¾‹å˜å€å¯»å€å¸¦åç§»é‡å¯»å€æ¨¡å¼ä¸­ï¼Œå˜å€æ¯”ä¾‹å› å­ä¸º1ã€2ã€4ã€8ï¼Œè¿™ä¸ªæ˜¯å› ä¸º<code>x86</code>æ˜¯æŒ‰å­—èŠ‚å¯»å€ï¼Œè®¾ç½®æ¯”ä¾‹å› å­å¯ä»¥æŒ‰16ä½æˆ–32ä½è¿›è¡Œå˜å€</p>
</li>
<li>
<p>ç›¸å¯¹å¯»å€ä¸»è¦ç”¨äºæ§åˆ¶è½¬ç§»æŒ‡ä»¤</p>
</li>
<li>
<p>å°†åç§»é‡åŠ åˆ°ç¨‹åºè®¡æ•°å™¨ä¸­ï¼Œå¾—åˆ°ç›¸å¯¹äºä¸‹ä¸€ä¸ªéœ€è¦æ‰§è¡ŒæŒ‡ä»¤çš„åœ°å€çš„åç§»åœ°å€</p>
</li>
<li>
<p>åç§»é‡æ˜¯ä¸€ä¸ªæœ‰ç¬¦å·æ•´æ•°ï¼Œé€šè¿‡è®¡ç®—ï¼Œå¯ä»¥å¢åŠ ä¹Ÿå¯ä»¥å‡å°‘ç¨‹åºè®¡æ•°å™¨ä¸­çš„åœ°å€å€¼</p>
</li>
</ul>
<h4 id="arm-addressing-modes"><code>ARM</code> addressing modes</h4>
<ul>
<li>
<p><strong><code>ARM</code> is a <code>RISC</code> architecture processor</strong></p>
</li>
<li>
<p>RISC uses simple addressing modes, but ARM provides more addressing modes</p>
</li>
<li>
<p>Only load/store instructions can reference memory</p>
</li>
<li>
<p>Indirectly through base register plus offset</p>
</li>
<li>
<p>Base register itself may be updated during addressing</p>
</li>
<li>
<p>3 addressing mode</p>
</li>
</ul>
<h5 id="offset">Offset</h5>
<ul>
<li>åç§»å¯»å€ï¼šåªåç§»ï¼Œä¸å˜å€ã€‚ä»åŸºå€å¯„å­˜å™¨å¢åŠ æˆ–å‡å°‘åç§»é‡æ¥å½¢æˆå†…å­˜åœ°å€</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">STRB r0, [r1,#12]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>å°†r0å­˜æ”¾åˆ°å­˜å‚¨å™¨ä¸­ï¼Œå­˜å‚¨å™¨åœ°å€ä¸ºr1çš„å€¼åŠ ä¸Šç«‹å³æ•°12</strong></li>
</ul>
<h5 id="pre-index">Pre-index</h5>
<ul>
<li>
<p>å†…å­˜åœ°å€è·Ÿåç§»å¯»å€ä¸€æ ·ï¼ŒåŸºå€å¯„å­˜å™¨å¢åŠ æˆ–å‡å°‘åç§»é‡æ¥å½¢æˆå†…å­˜åœ°å€</p>
</li>
<li>
<p><strong>å†…å­˜åœ°å€ä¼šå†™å›åˆ°åŸºå€å¯„å­˜å™¨ï¼ŒåŸºå€å¯„å­˜å™¨çš„å€¼ä¼šå¢åŠ æˆ–å‡å°‘ä¸€ä¸ªåç§»é‡</strong></p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">STRB r0, [r1,#12]!
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>è¿™é‡Œï¼å°±æ˜¯æ ‡è¯†æ˜¯å‰å˜å€</p>
</li>
<li>
<p>å¯»å€å®Œæˆåï¼Œr1å¯„å­˜å™¨çš„å€¼å˜æˆäº†r1-12</p>
</li>
</ul>
<h5 id="post-index">Post-index</h5>
<ul>
<li>æ“ä½œæ•°çš„åœ°å€å°±æ˜¯åœ¨åŸºå€å¯„å­˜å™¨çš„å€¼</li>
<li><strong>å¯»å€å®Œæˆåï¼ŒåŸºå€å¯„å­˜å™¨çš„å€¼ä¼šå¢åŠ æˆ–å‡å°‘ä¸€ä¸ªåç§»é‡ï¼Œç›¸å½“äºå¯»å€å®Œæˆåï¼ŒåŸºå€å¯„å­˜å™¨è‡ªèº«å¢åŠ æˆ–å‡å°‘äº†ä¸€ä¸ªåç§»é‡</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">STRBv r0, [r1],#12
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p><strong>#è¡¨ç¤ºåå˜å€</strong></p>
</li>
<li>
<p><strong>å¯»å€ç”¨r1åœ°å€ï¼ŒåŒæ—¶r1å¯„å­˜å™¨çš„å€¼å˜æˆäº†r1-12</strong></p>
</li>
</ul>
<hr>
<ul>
<li>
<p>Base register acts as index register for pre-index and postindex addressing</p>
</li>
<li>
<p><strong>Offset either immediate value in instruction or another register</strong></p>
</li>
<li>
<p><strong>If registerï¼Œscaled register addressing available</strong></p>
<ul>
<li>
<p>Offset register value scaled by shift operator</p>
</li>
<li>
<p>Instruction specifies shift size</p>
</li>
</ul>
</li>
<li>
<p>Data Processing</p>
<ul>
<li>
<p>Register addressing</p>
</li>
<li>
<p>Value in register operands may be scaled using a shift operator</p>
</li>
<li>
<p>Or mixture of register and immediate addressing</p>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Addressing of branch</strong></p>
<ul>
<li>
<p>Branch</p>
<ul>
<li>
<p><strong>Only immediate</strong></p>
</li>
<li>
<p>Instruction contains 24 bit value</p>
</li>
<li>
<p>When addressing, this immediate value will be shifted two bits to the left, reaching the boundary of a 32-bit word</p>
</li>
<li>
<p>Shifted 2 bits to the left, which is equivalent to an offset of 26 bits. The effective address range is+- 32MB</p>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>ARM Load/Store Multiple Addressing</strong></p>
<ul>
<li>
<p>One instruction can load or store multiple data at the same time</p>
<ul>
<li>Load or store a set of general registers</li>
</ul>
</li>
<li>
<p>16-bit instruction field in instruction specifies list of registers</p>
<ul>
<li>Registers corresponds to a sequential storage unit in memory</li>
<li>Memory unit with the lowest address corresponds to the register with the lowest number</li>
</ul>
</li>
<li>
<p>Base register specifies first main memory address</p>
</li>
<li>
<p>Four types</p>
<ul>
<li>increment after</li>
<li>increment before</li>
<li>decrement after</li>
<li>decrement before</li>
</ul>
</li>
<li>
<p><strong>Incrementing or decrementing starts before or after first memory access</strong></p>
</li>
</ul>
<figure><a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-12.png" title="/img/Computer Organization and Architecture/chapter11-12.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-12.png" data-sub-html="<h2>Multiple addressing diagram</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-12.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-12.png, /img/Computer%20Organization%20and%20Architecture/chapter11-12.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-12.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-12.png" />
    </a><figcaption class="image-caption"><code>Multiple addressing diagram</code></figcaption>
    </figure>
<ul>
<li>
<p>r10å¼€å§‹çš„ä¸‰ä¸ªå•å…ƒå†…å®¹åŠ è½½åˆ°r0ï¼Œr1ï¼Œr4è¿™ä¸‰ä¸ªå¯„å­˜å™¨ä¸­ã€‚R0ä¸ºä½åœ°å€ï¼Œr4ä¸ºé«˜åœ°å€</p>
</li>
<li>
<p>é‡‡ç”¨åé€’å¢ï¼Œä»0x20Cå¼€å§‹ï¼Œè¿ç»­ä¸‰ä¸ªå­˜å‚¨å•å…ƒçš„å†…å®¹å–å‡ºåï¼Œåˆ†åˆ«ç»™r0ï¼Œr1å’Œr4ã€‚é‡‡ç”¨å‰é€’å¢ï¼Œç¬¬ä¸€ä¸ªå­˜å‚¨å•å…ƒçš„åœ°å€è¦åœ¨åŸºå€å¯„å­˜å™¨ä¸­çš„åœ°å€åŸºç¡€ä¸ŠåŠ 1ï¼Œç„¶åå–è¿ç»­ä¸‰ä¸ªå­˜å‚¨å•å…ƒçš„å†…å®¹å–å‡ºåï¼Œåˆ†åˆ«ç»™r0ï¼Œr1å’Œr4</p>
</li>
<li>
<p>å¯¹äºåé€’å‡ï¼Œå°±æ˜¯ä»åŸºå€å¯„å­˜å™¨å¼€å§‹ï¼Œåœ°å€é€’å‡çš„è¿ç»­ä¸‰ä¸ªå­˜å‚¨å•å…ƒã€‚å¯¹äºå‰é€’å‡ï¼Œå°±æ˜¯å…ˆåœ¨åŸºå€å¯„å­˜å™¨çš„åœ°å€ä¸Šå‡1ï¼Œç„¶ååœ°å€é€’å‡çš„è¿ç»­ä¸‰ä¸ªå­˜å‚¨å•å…ƒ</p>
</li>
</ul>
<h3 id="instruction-formats">Instruction Formats</h3>
<ul>
<li>
<p>Instruction set is the interface provided by the processor to the upper layer</p>
<ul>
<li>
<p>An important symbol of CPU performance</p>
</li>
<li>
<p>The rationality of the instruction set has a great impact on the performance of the CPU</p>
</li>
</ul>
</li>
<li>
<p><strong>Therefore, the design of instruction format is the core content of processor design</strong></p>
</li>
</ul>
<hr>
<p><strong>Instruction formats</strong></p>
<ul>
<li>
<p>Instruction include</p>
<ul>
<li>
<p>Opcode</p>
</li>
<li>
<p>Operand(s) (implicit or explicit) and addressing mode</p>
</li>
</ul>
</li>
<li>
<p><strong>Instruction formats: How many bits do the parts of the instruction occupy, and in what order</strong></p>
</li>
<li>
<p>Layout of bits in an instruction</p>
</li>
<li>
<p>Usually more than one instruction format in an instruction set</p>
</li>
</ul>
<h4 id="key-of-instruction-formats">Key of instruction formats</h4>
<ul>
<li>
<p>The width of opcodes: determines number of operation</p>
<ul>
<li><strong>The more opcodes, the more functions of the instruction set, and the larger the number of bits</strong></li>
</ul>
</li>
<li>
<p>The width of operands: effect the instruction length</p>
<ul>
<li>
<p>The operand takes up a large proportion of the instruction length</p>
</li>
<li>
<p><strong>Number of operands, addressing mode and size of addressing space have a great impact on the length of instructions</strong></p>
</li>
</ul>
</li>
<li>
<p>Addressing modes: determine the complexity and the length of the instruction</p>
<ul>
<li>
<p><strong>The more complex the addressing mode is, the more operations are required to obtain the physical address of the operand, and the higher the time complexity is</strong></p>
</li>
<li>
<p><strong>Complex addressing mode can use less address field length to obtain larger addressing space and save instruction length</strong></p>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>
<p><strong>First step in instruction set design is to determine the length of instructions</strong></p>
</li>
<li>
<p><strong>Trade off between powerful instruction repertoire and saving space</strong></p>
</li>
</ul>
<hr>
<p><strong>Summary</strong></p>
<ul>
<li>
<p>The operation code and operands should have as many digits as possible</p>
</li>
<li>
<p>The longer the instruction, the more memory space it takes</p>
</li>
<li>
<p>Generallyï¼Œinstruction length is consistent with the bus width , or an integer multiple</p>
</li>
<li>
<p>In the design of instruction set</p>
<ul>
<li>
<p>Every part of the directive needs to be properly planned</p>
</li>
<li>
<p>Seeking the best balance among various design scheme</p>
</li>
</ul>
</li>
</ul>
<h4 id="allocation-of-bits">Allocation of bits</h4>
<ul>
<li>
<p>After the length of the instruction is determined, each bit in the instruction needs to be allocated reasonably to maximize the use of each bit</p>
<ul>
<li><strong>If the opcode is long, operands is short</strong></li>
<li><strong>Variable length opcode, additional bits determine operation</strong></li>
</ul>
</li>
<li>
<p><strong>First, you need to determine the number of operands and opcodes</strong></p>
</li>
</ul>
<p><strong>The following factors need to be considered</strong></p>
<ul>
<li>
<p>Number of operands</p>
</li>
<li>
<p>Number of addressing modes</p>
</li>
<li>
<p>Register versus memory</p>
</li>
<li>
<p>Number of register sets</p>
</li>
<li>
<p>Address range</p>
</li>
<li>
<p>Address granularity</p>
</li>
</ul>
<hr>
<p><strong>Number of addressing modes</strong></p>
<ul>
<li>
<p>Some opcodes implicitly specify the addressing mode of the operand, which does not need to be specified separately</p>
</li>
<li>
<p>Sometimes it is necessary to explicitly specify the addressing mode of this operand, and one or more addressing mode bits are required</p>
</li>
<li>
<p>There may be multiple addressing modes in an instruction</p>
</li>
</ul>
<hr>
<p><strong>Number of operands</strong></p>
<ul>
<li>
<p>If the instruction only supports one operand, it is troublesome to write the program</p>
</li>
<li>
<p>Generally, two operands are supported</p>
</li>
<li>
<p>Each operand hope an independent addressing mode</p>
<ul>
<li>
<p>Flexible</p>
</li>
<li>
<p>Need addressing indication bit</p>
</li>
</ul>
</li>
<li>
<p>Some processors allow one operand to specify the addressing bit</p>
</li>
</ul>
<hr>
<p><strong>Register versus memory</strong></p>
<ul>
<li>Data needs to be loaded into CPU through registers for processing</li>
<li>If there is only one register, it does not need to be specified, but it is very troublesome to use</li>
<li>Several registers are generally provided
<ul>
<li>Several bits can specify a register, which takes up less instruction bits</li>
</ul>
</li>
<li>Most processors have more than 32 registers</li>
</ul>
<hr>
<p><strong>Number of register sets</strong></p>
<ul>
<li>
<p>Most processors provide only one set of general-purpose registers</p>
<ul>
<li>
<p>Store Data</p>
</li>
<li>
<p>Store address field in offset addressing mode</p>
</li>
</ul>
</li>
<li>
<p>Some processors, such as the x86 processor, can provide multiple sets of registers</p>
<ul>
<li>
<p>Divide by function, some store data, some store offset</p>
</li>
<li>
<p>Opcode implicitly determines which set of registers to use</p>
</li>
<li>
<p>Reduce the number of instructions</p>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Address range</strong></p>
<ul>
<li>
<p>In direct addressing, the address range is determined by the length of the address field in the instruction</p>
<ul>
<li>
<p>Instruction length is limited</p>
</li>
<li>
<p>The address range of direct addressing is small</p>
</li>
</ul>
</li>
<li>
<p><strong>General use offset addressing</strong></p>
<ul>
<li>
<p>Length of the address register is critical</p>
</li>
<li>
<p>If the offset is large, the length of the address field in the instruction is also long</p>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Address granularity</strong></p>
<ul>
<li>
<p><strong>The smaller the addressable address granularity is, the longer the address bits are required</strong></p>
</li>
<li>
<p>Addressing by byte</p>
<ul>
<li>
<p>Some operations are more convenient</p>
</li>
<li>
<p>e.g. character processing</p>
</li>
<li>
<p>More address bits required</p>
</li>
</ul>
</li>
<li>
<p>Operate according to words</p>
<ul>
<li>
<p>Number of address bits reduced</p>
</li>
<li>
<p>Reduced operational flexibility</p>
</li>
</ul>
</li>
</ul>
<h3 id="x86-and-arm-instruction-formats"><code>x86</code> and <code>ARM</code> instruction formats</h3>
<h4 id="x86-instruction-format"><code>x86</code> instruction format</h4>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-13.png" title="/img/Computer Organization and Architecture/chapter11-13.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-13.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-13.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-13.png, /img/Computer%20Organization%20and%20Architecture/chapter11-13.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-13.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-13.png" />
    </a>
<p><strong>Characteristic</strong></p>
<ul>
<li>
<p><strong>Addressing mode is associated with the instruction opcode</strong></p>
</li>
<li>
<p><strong>An instruction has only one addressing mode</strong></p>
</li>
<li>
<p><strong>Only one memory operand can be referenced in an instruction</strong></p>
</li>
<li>
<p><strong>Typical <code>CISC</code> architectureï¼Œuse complex instruction format</strong></p>
<ul>
<li>
<p><code>X86</code> needs to consider downward compatibility</p>
</li>
<li>
<p>Hope to provide richer instructions for compiler developers</p>
</li>
</ul>
</li>
</ul>
<h4 id="arm-instruction-formats"><code>ARM</code> instruction formats</h4>
<ul>
<li>
<p><strong>Typical <code>RISC</code> architecture</strong></p>
</li>
<li>
<p><strong>All the instructions are 32 bits, and the format is very neat</strong></p>
</li>
<li>
<p><strong><code>ARM</code> instructions are divided into four categories</strong></p>
<ul>
<li>
<p><strong>data processing instructions</strong></p>
</li>
<li>
<p><strong>load / save instructions</strong></p>
</li>
<li>
<p><strong>overload / save instructions</strong></p>
</li>
<li>
<p><strong>branch instructions</strong></p>
</li>
</ul>
</li>
<li>
<p><strong>All instructions are conditionally executed</strong></p>
</li>
</ul>
<h5 id="condition-code">Condition code</h5>
<ul>
<li>
<p><strong>All instructions are conditionally executed</strong></p>
</li>
<li>
<p>The instruction contains a 4-bit condition code, which is in the highest 4-bit of the instruction</p>
</li>
<li>
<p>Except for the condition flags 1110 and 1111, all other instructions must meet the conditions before they can be executed</p>
</li>
<li>
<p><strong>The condition code includes four condition flags, which are stored in the program status register</strong></p>
</li>
<li>
<p><strong>The four condition flags are N negative flag, Z zero flag, C carry flag, V overflow flag</strong></p>
</li>
<li>
<p><strong>For all arithmetic or logic instructions, an S bit is given to indicate whether the instruction modifies the condition flag bit</strong></p>
</li>
</ul>
<h4 id="data-processing">Data processing</h4>
<a class="lightgallery" href="/img/Computer%20Organization%20and%20Architecture/chapter11-14.png" title="/img/Computer Organization and Architecture/chapter11-14.png" data-thumbnail="/img/Computer Organization and Architecture/chapter11-14.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/Computer%20Organization%20and%20Architecture/chapter11-14.png"
            data-srcset="/img/Computer%20Organization%20and%20Architecture/chapter11-14.png, /img/Computer%20Organization%20and%20Architecture/chapter11-14.png 1.5x, /img/Computer%20Organization%20and%20Architecture/chapter11-14.png 2x"
            data-sizes="auto"
            alt="/img/Computer Organization and Architecture/chapter11-14.png" />
    </a>
<ul>
<li>
<p>æ•°æ®å¤„ç†æŒ‡ä»¤ç±»å‹ä¸º000æˆ–001ã€‚æ“ä½œç éƒ½æ˜¯4ä½ï¼Œsè¡¨ç¤ºæ˜¯å¦ä¿®æ”¹æ¡ä»¶æ ‡å¿—ä½ã€‚æŒ‡ä»¤ä¸­éƒ½æœ‰ä¸‰ä¸ªæ“ä½œæ•°</p>
</li>
<li>
<p>ç¬¬ä¸€ç§æ ¼å¼ä¸­ï¼Œç›®çš„å¯„å­˜å™¨Rdï¼Œç¬¬ä¸€ä¸ªæ“ä½œæ•°å¯„å­˜å™¨Rnå’Œç¬¬äºŒä¸ªæ“ä½œæ•°å¯„å­˜å™¨Rmï¼Œæ“ä½œæ•°å¯ä»¥æ ¹æ®shiftçš„æ ‡å¿—è¿›è¡Œç§»ä½ï¼Œshift amountæŒ‡æ˜ç§»åŠ¨å¤šå°‘ä½</p>
</li>
<li>
<p>ç¬¬äºŒç§æ ¼å¼è·Ÿç¬¬ä¸€ç§ç±»ä¼¼ï¼Œåªæ˜¯ç§»ä½çš„ä½æ•°ä¸æ˜¯ç«‹å³æ•°ï¼Œè€Œæ˜¯ç”±å¯„å­˜å™¨Rsæ¥ç¡®å®š</p>
</li>
<li>
<p>ç¬¬ä¸‰ç§æ ¼å¼ä¸­ï¼Œç¬¬äºŒæ“ä½œæ•°æ˜¯ä¸€ä¸ªç«‹å³æ•°ï¼Œå¹¶ä¸”å¯ä»¥é’ˆå¯¹ç«‹å³æ•°è¿›è¡Œå¾ªç¯å³ç§»ï¼Œå¾ªç¯å³ç§»çš„æ¬¡æ•°ç”±rotateåŸŸä¸­çš„å€¼å†³å®š</p>
</li>
</ul>
<h4 id="loadstore">Load/Store</h4>
<ul>
<li>
<p>åŠ è½½/ä¿å­˜æŒ‡ä»¤ä¸­ï¼ŒæŒ‡ä»¤ä¸€èˆ¬ç±»å‹ä¸º010å’Œ011ã€‚åé¢5ä½æ ‡è¯†äº†å¯»å€æ¨¡å¼ã€æ•°æ®ç±»å‹ï¼Œæ˜¯å­—èŠ‚è¿˜æ˜¯å­—ï¼Œä»¥åŠåŠ è½½å’Œä¿å­˜æ ‡å¿—ã€‚</p>
</li>
<li>
<p>ç¬¬ä¸€ç§åŠ è½½/ä¿å­˜æŒ‡ä»¤æ˜¯ç«‹å³æ•°åç§»æŒ‡ä»¤ï¼ŒæŒ‡ä»¤ä¸­ç»™å‡ºäº†12ä½çš„åç§»é‡ã€‚å†…å­˜åœ°å€å°±æ˜¯åŸºå€å¯„å­˜å™¨RnåŠ ä¸Šæˆ–å‡å»ç«‹å³æ•°åç§»é‡ã€‚</p>
</li>
<li>
<p>ç¬¬äºŒç§æŒ‡ä»¤æ˜¯å¯„å­˜å™¨åç§»ã€‚åç§»é‡åœ¨Rmå¯„å­˜å™¨ä¸­ï¼Œé€šè¿‡shiftç¡®å®šç§»ä½æ“ä½œï¼Œç§»åŠ¨shift amountä½ä¹‹åå¾—åˆ°ï¼Œç„¶åå†å’ŒåŸºå€å¯„å­˜å™¨Rnè®¡ç®—ï¼Œå¾—åˆ°å†…å­˜åœ°å€ã€‚</p>
</li>
<li>
<p>å¤šè½½/å¤šå­˜æŒ‡ä»¤ä¸­ï¼ŒæŒ‡ä»¤ä¸€èˆ¬ç±»å‹ä¸º100ã€‚æŒ‡ä»¤ä¸­ç»™äº†16ä½çš„å¯„å­˜å™¨åˆ—è¡¨ï¼Œå†…å­˜åœ°å€åœ¨Rnä¸­ï¼Œæ˜¯å…ˆé€’å¢ï¼Œå…ˆé€’å‡ï¼Œè¿˜æ˜¯åé€’å¢ï¼Œåé€’å‡ï¼Œç”±å¯»å€æ¨¡å¼æ¥å†³å®š</p>
</li>
</ul>
<h4 id="branch">Branch</h4>
<ul>
<li>åˆ†æ”¯æŒ‡ä»¤çš„æŒ‡ä»¤ä¸€èˆ¬ç±»å‹ä¸º101ï¼Œæä¾›äº†ä¸€ä¸ª24ä½çš„ç«‹å³æ•°</li>
<li>è¿˜æœ‰ä¸€ä¸ªæ ‡å¿—ä½Lï¼Œè¿™ä¸ªæ ‡å¿—ä½å†³å®šè¿”å›åœ°å€æ˜¯å¦ä¿å­˜åœ¨è¿æ¥å¯„å­˜å™¨ï¼Œä¹Ÿå°±æ˜¯link registerä¸­ã€‚</li>
</ul>
<h4 id="arm-immediate-constants">ARM immediate constants</h4>
<ul>
<li>
<p>æ•°æ®å¤„ç†æŒ‡ä»¤ä¸­ï¼Œç«‹å³æ•°å äº†8ä½ï¼Œ<strong>åŒæ—¶è¿˜è§„å®šäº†ä¸€ä¸ªå¾ªç¯ç§»ä½çš„å€¼ã€‚è¿™æ ·è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºäº†è·å¾—å–å€¼èŒƒå›´è¾ƒå¤§çš„æ•°</strong></p>
</li>
<li>
<p>é€šè¿‡å¾ªç¯ç§»ä½ï¼Œå¯ä»¥å°†ç«‹å³æ•°çš„èŒƒå›´ä»8ä½æœ€å¤šæ‰©å±•åˆ°32ä½</p>
</li>
</ul>
<h4 id="thumb-instruction-set">Thumb instruction set</h4>
<ul>
<li>
<p>Special Usage: use 16 bit instructions to implement most of 32-bit instructions</p>
</li>
<li>
<p>In an embedded system, there may only be a 16 bit bus</p>
</li>
<li>
<p><strong>Thumb instruction set: Re-encoded subset of ARM instruction set</strong></p>
</li>
<li>
<p><strong>Increases performance in 16-bit or less data bus</strong></p>
</li>
<li>
<p>Need to reduce 16 bits in the instruction</p>
</li>
<li>
<p>Unconditional (4 bits saved)</p>
</li>
<li>
<p>Always update conditional flags</p>
<ul>
<li>Update flag not used (1 bit saved)</li>
</ul>
</li>
<li>
<p>Subset of instructions</p>
<ul>
<li>
<p>2 bit opcode, 3 bit type field (2 bit saved)</p>
</li>
<li>
<p>Reduced operand specifications (9 bits saved)</p>
</li>
</ul>
</li>
<li>
<p>å‹ç¼©æŒ‡ä»¤é›†çš„16ä½æŒ‡ä»¤å¯ä»¥æ‰©å±•åˆ°32ä½çš„æ ‡å‡†æŒ‡ä»¤</p>
<ul>
<li>
<p>å‹ç¼©çš„æŒ‡ä»¤é›†åªæœ‰16ä½ï¼Œå¯ä»¥åœ¨é…ç½®è¾ƒä½çš„ç¡¬ä»¶ä¸Šæ‰§è¡Œ</p>
</li>
<li>
<p>å¦‚æœåœ¨æ ‡å‡†çš„ARMå¤„ç†å™¨ä¸Šæ‰§è¡Œï¼Œå¯ä»¥æŒ‰ç…§è¿™ä¸ªå›¾ä¸Šçš„æ–¹æ³•ï¼Œæ‰©å……åˆ°32ä½ä¹‹åè¿›è¡Œæ‰§è¡Œ</p>
</li>
</ul>
</li>
<li>
<p>ARMå¤„ç†å™¨èƒ½å¤Ÿæ‰§è¡Œ16ä½å’Œ32ä½çš„æŒ‡ä»¤ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¸¤ç§æ ¼å¼æ··åˆæ‰§è¡Œ</p>
</li>
<li>
<p>å¤„ç†å™¨ä¸­çš„æ§åˆ¶å¯„å­˜å™¨ä¸­çš„1ä½ç”¨æ¥ç¡®å®šå½“å‰çš„æ‰§è¡Œæ˜¯16ä½çš„æŒ‡ä»¤è¿˜æ˜¯32ä½çš„æŒ‡ä»¤</p>
</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/computer-organization-and-architecture/">Computer Organization and Architecture</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>æ›´æ–°äº 2023-01-26</span>
            </div><div class="post-info-mod"></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats" data-hashtags="Computer Organization and Architecture"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-hashtag="Computer Organization and Architecture"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Linkedin" data-sharer="linkedin" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° WhatsApp" data-sharer="whatsapp" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Myspace" data-sharer="myspace" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Blogger" data-sharer="blogger" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° ç™¾åº¦" data-sharer="baidu" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats"><i data-svg-src="/lib/simple-icons/icons/baidu.min.svg"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Evernote" data-sharer="evernote" data-url="https://Jungle430.github.io/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-addressing-modes-and-formats/" data-title="Computer Organization and Architecture Instruction Sets Addressing Modes and Formats"><i class="fab fa-evernote fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/posts/computer-organization-and-architecture/computer-organization-and-architecture-instruction-sets-characteristics-and-functions/" class="prev" rel="prev" title="Computer Organization and Architecture Instruction Sets: Characteristics and Functions"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/posts/computer-organization-and-architecture/computer-organization-and-architecture-processor-structure-and-function/" class="next" rel="next" title="Computer Organization and Architecture Processor Structure and Function">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.105.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.1"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/Jungle430">Jungle</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('/sw.min.js?version=0.0.1', { scope: '/' })
        .then(() => {
            console.info('Jungle\u0027s Blog\u00A0Service Worker Registered');
        }, err => console.error('Jungle\u0027s Blog\u00A0Service Worker registration failed: ', err));

    navigator.serviceWorker
        .ready
        .then(() => {
            console.info('Jungle\u0027s Blog\u00A0Service Worker Ready');
        });
}
</script>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script src="/lib/katex/katex.min.js"></script><script src="/lib/katex/auto-render.min.js"></script><script src="/lib/katex/copy-tex.min.js"></script><script src="/lib/katex/mhchem.min.js"></script><script src="/lib/mermaid/mermaid.min.js"></script><script>window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":100},"comment":{},"data":{"id-1":"classDiagram\nclass Instruction {\n\tOpcode\n\tOperand\n}"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script src="/js/theme.min.js"></script></body></html>
